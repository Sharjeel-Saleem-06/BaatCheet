@tailwind base;
@tailwind components;
@tailwind utilities;

/* Custom scrollbar */
::-webkit-scrollbar {
  width: 8px;
  height: 8px;
}

::-webkit-scrollbar-track {
  background: #1e293b;
}

::-webkit-scrollbar-thumb {
  background: #475569;
  border-radius: 4px;
}

::-webkit-scrollbar-thumb:hover {
  background: #64748b;
}

/* Markdown styles */
.prose {
  @apply text-dark-200;
}

.prose h1, .prose h2, .prose h3 {
  @apply text-dark-100 font-semibold;
}

.prose code {
  @apply bg-dark-800 px-1.5 py-0.5 rounded text-primary-400 font-mono text-sm;
}

.prose pre {
  @apply bg-dark-800 rounded-lg p-4 overflow-x-auto;
}

.prose pre code {
  @apply bg-transparent p-0;
}

.prose a {
  @apply text-primary-400 hover:text-primary-300;
}

.prose ul, .prose ol {
  @apply pl-6;
}

.prose li {
  @apply mb-1;
}

/* Animations */
@keyframes pulse-subtle {
  0%, 100% { opacity: 1; }
  50% { opacity: 0.7; }
}

.animate-pulse-subtle {
  animation: pulse-subtle 2s ease-in-out infinite;
}

/* Streaming cursor */
.streaming-cursor::after {
  content: 'â–‹';
  @apply text-primary-400 animate-pulse;
}

/* Markdown content styles */
.markdown-content {
  @apply text-dark-200 leading-relaxed;
}

.markdown-content > *:first-child {
  @apply mt-0;
}

.markdown-content > *:last-child {
  @apply mb-0;
}

/* Code block line highlighting */
.code-line {
  @apply block;
}

.code-line:hover {
  @apply bg-dark-800/50;
}

/* Table hover effects */
.markdown-content table tbody tr {
  @apply transition-colors duration-150;
}

.markdown-content table tbody tr:nth-child(even) {
  @apply bg-dark-800/30;
}

/* Smooth scroll for anchor links */
.markdown-content a[href^="#"] {
  scroll-behavior: smooth;
}

/* Better spacing for nested lists */
.markdown-content ul ul,
.markdown-content ol ul,
.markdown-content ul ol,
.markdown-content ol ol {
  @apply mt-1 mb-1;
}

/* Improve readability of long text */
.markdown-content p {
  max-width: 70ch;
}

/* Add subtle animation to tables */
.markdown-content table {
  animation: fadeInUp 0.3s ease-out;
}

@keyframes fadeInUp {
  from {
    opacity: 0;
    transform: translateY(10px);
  }
  to {
    opacity: 1;
    transform: translateY(0);
  }
}

/* Code block syntax highlighting colors */
.markdown-content pre {
  @apply bg-dark-900;
}

/* Blockquote styling */
.markdown-content blockquote p {
  @apply mb-0;
}

/* Checkbox styling for task lists */
.markdown-content input[type="checkbox"] {
  @apply mr-2 accent-primary-500;
}

/* ========================================
   CLERK AUTH STYLING - HIDE BRANDING
   ======================================== */

/* Hide only Clerk branding elements - NOT the form */
.cl-footerPages,
.cl-powered-by-clerk,
.cl-footerPagesLink,
[data-localization-key="footerPageLink__help"],
[data-localization-key="footerPageLink__privacy"],
[data-localization-key="footerPageLink__terms"],
[href*="clerk.com"] {
  display: none !important;
}

/* Clerk card styling */
.cl-card {
  background: #1f1f35 !important;
  border: 1px solid #2d2d4a !important;
  border-radius: 1rem !important;
  box-shadow: 0 25px 50px -12px rgba(0, 0, 0, 0.5) !important;
}

.cl-headerTitle,
.cl-headerSubtitle {
  display: none !important;
}

/* Form styling */
.cl-formFieldInput {
  background: #252538 !important;
  border-color: #3d3d5c !important;
  border-radius: 0.75rem !important;
  color: #f5f5f7 !important;
}

.cl-formFieldInput:focus {
  border-color: #22c55e !important;
  box-shadow: 0 0 0 2px rgba(34, 197, 94, 0.2) !important;
}

.cl-formFieldLabel {
  color: #a3a3a3 !important;
}

/* Primary button */
.cl-formButtonPrimary {
  background: linear-gradient(to right, #22c55e, #16a34a) !important;
  border-radius: 0.75rem !important;
  font-weight: 600 !important;
  box-shadow: 0 10px 25px -5px rgba(34, 197, 94, 0.3) !important;
  transition: all 0.2s ease !important;
}

.cl-formButtonPrimary:hover {
  background: linear-gradient(to right, #16a34a, #15803d) !important;
  transform: translateY(-1px) !important;
}

/* Social buttons */
.cl-socialButtonsBlockButton {
  background: #252538 !important;
  border-color: #3d3d5c !important;
  border-radius: 0.75rem !important;
  color: #e5e5e5 !important;
}

.cl-socialButtonsBlockButton:hover {
  background: #2d2d4a !important;
  border-color: #4d4d6a !important;
}

/* Divider */
.cl-dividerLine {
  background: #3d3d5c !important;
}

.cl-dividerText {
  background: #1f1f35 !important;
  color: #6b7280 !important;
}

/* Footer links */
.cl-footerActionLink {
  color: #22c55e !important;
}

.cl-footerActionLink:hover {
  color: #4ade80 !important;
}

.cl-footerActionText {
  color: #9ca3af !important;
}

/* Alert styling */
.cl-alert {
  background: #252538 !important;
  border-color: #3d3d5c !important;
  border-radius: 0.75rem !important;
}

/* OTP input */
.cl-otpCodeFieldInput {
  background: #252538 !important;
  border-color: #3d3d5c !important;
  color: #f5f5f7 !important;
  border-radius: 0.5rem !important;
}

/* Development mode banner - make it subtle */
[data-testid="sign-up-create-account-development-mode-warning"],
.cl-devModeNotice {
  background: rgba(251, 191, 36, 0.1) !important;
  border-color: rgba(251, 191, 36, 0.2) !important;
  border-radius: 0.5rem !important;
  font-size: 0.75rem !important;
  padding: 0.5rem !important;
}

/* ========================================
   ADDITIONAL ANIMATIONS
   ======================================== */

@keyframes slideInUp {
  from {
    opacity: 0;
    transform: translateY(20px);
  }
  to {
    opacity: 1;
    transform: translateY(0);
  }
}

@keyframes slideInRight {
  from {
    opacity: 0;
    transform: translateX(-20px);
  }
  to {
    opacity: 1;
    transform: translateX(0);
  }
}

@keyframes scaleIn {
  from {
    opacity: 0;
    transform: scale(0.95);
  }
  to {
    opacity: 1;
    transform: scale(1);
  }
}

.animate-slide-in-up {
  animation: slideInUp 0.4s ease-out;
}

.animate-slide-in-right {
  animation: slideInRight 0.4s ease-out;
}

.animate-scale-in {
  animation: scaleIn 0.3s ease-out;
}

/* Gradient text */
.gradient-text {
  background: linear-gradient(to right, #22c55e, #16a34a);
  -webkit-background-clip: text;
  -webkit-text-fill-color: transparent;
  background-clip: text;
}

/* Glass effect */
.glass {
  background: rgba(255, 255, 255, 0.05);
  backdrop-filter: blur(10px);
  border: 1px solid rgba(255, 255, 255, 0.1);
}

/* Glow effect */
.glow-primary {
  box-shadow: 0 0 20px rgba(34, 197, 94, 0.3),
              0 0 40px rgba(34, 197, 94, 0.1);
}

/* Hide scrollbar but keep functionality */
.scrollbar-hide {
  -ms-overflow-style: none;
  scrollbar-width: none;
}

/* ========================================
   MOBILE RESPONSIVE STYLES
   ======================================== */

/* Touch-friendly buttons */
@media (max-width: 768px) {
  /* Increase touch targets */
  button, a, .clickable {
    min-height: 44px;
    min-width: 44px;
  }
  
  /* Better text sizing for mobile */
  html {
    font-size: 16px;
    -webkit-text-size-adjust: 100%;
  }
  
  /* Prevent horizontal scroll */
  body {
    overflow-x: hidden;
  }
  
  /* Mobile modal/dialog improvements */
  .modal-content {
    max-height: 90vh;
    max-width: 95vw;
    margin: 1rem;
  }
  
  /* Better input styling on mobile */
  input, textarea, select {
    font-size: 16px !important; /* Prevents zoom on iOS */
  }
  
  /* Full width buttons on mobile */
  .btn-mobile-full {
    width: 100%;
  }
  
  /* Stack elements on mobile */
  .mobile-stack {
    flex-direction: column !important;
  }
  
  /* Hide on mobile */
  .hide-mobile {
    display: none !important;
  }
  
  /* Smaller padding on mobile */
  .mobile-p-sm {
    padding: 0.75rem !important;
  }
  
  /* Chat input area improvements */
  .chat-input-container {
    padding: 0.75rem;
    padding-bottom: max(0.75rem, env(safe-area-inset-bottom));
  }
  
  /* Voice call modal - full screen on mobile */
  .voice-call-modal {
    border-radius: 0;
    max-width: 100vw;
    max-height: 100vh;
  }
}

/* Small phones */
@media (max-width: 375px) {
  html {
    font-size: 14px;
  }
  
  .text-responsive {
    font-size: 0.875rem;
  }
}

/* Tablet breakpoint */
@media (min-width: 769px) and (max-width: 1024px) {
  .tablet-stack {
    flex-direction: column;
  }
}

/* Safe area for notched phones */
@supports (padding: env(safe-area-inset-bottom)) {
  .safe-area-bottom {
    padding-bottom: env(safe-area-inset-bottom);
  }
  
  .safe-area-top {
    padding-top: env(safe-area-inset-top);
  }
}

/* Prevent text selection on interactive elements */
.no-select {
  -webkit-user-select: none;
  -moz-user-select: none;
  -ms-user-select: none;
  user-select: none;
}

/* Smooth scrolling for iOS */
.scroll-smooth {
  -webkit-overflow-scrolling: touch;
}

/* Active state for touch */
@media (hover: none) {
  .touch-active:active {
    opacity: 0.7;
    transform: scale(0.98);
  }
}

.scrollbar-hide::-webkit-scrollbar {
  display: none;
}

/* Focus ring */
.focus-ring:focus {
  outline: none;
  box-shadow: 0 0 0 2px #1a1a2e, 0 0 0 4px rgba(34, 197, 94, 0.5);
}
